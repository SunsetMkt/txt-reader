!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t,n){(function(n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";var e=void 0!==n?n:self;if(void 0!==e.TextEncoder&&void 0!==e.TextDecoder)return{TextEncoder:e.TextEncoder,TextDecoder:e.TextDecoder};var t=["utf8","utf-8","unicode-1-1-utf-8"];return{TextEncoder:function(e){if(t.indexOf(e)<0&&null!=e)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.encode=function(e){if("string"!=typeof e)throw new TypeError("passed argument must be of type string");var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);return t.split("").forEach(function(e,t){n[t]=e.charCodeAt(0)}),n}},TextDecoder:function(e,n){if(t.indexOf(e)<0&&null!=e)throw new RangeError("Invalid encoding type. Only utf-8 is supported");if(this.encoding="utf-8",this.ignoreBOM=!1,this.fatal=void 0!==n&&fatal in n&&n.fatal,"boolean"!=typeof this.fatal)throw new TypeError("fatal flag must be boolean");this.decode=function(e,t){if(void 0===e)return"";var n=void 0!==t&&n in t&&t.stream;if("boolean"!=typeof n)throw new TypeError("stream option must be boolean");if(ArrayBuffer.isView(e)){var r=new Uint8Array(e.buffer),i=new Array(r.length);return r.forEach(function(e,t){i[t]=String.fromCharCode(e)}),decodeURIComponent(escape(i.join("")))}throw new TypeError("passed argument must be an array buffer view")}}}})?r.apply(t,i):r)||(e.exports=o)}).call(this,n(0))},function(e,t,n){"use strict";void 0===Uint8Array.prototype.indexOf&&(Uint8Array.prototype.indexOf=function(e){return Array.prototype.indexOf.call(this,e)}),void 0===Uint8Array.prototype.slice&&(Uint8Array.prototype.slice=function(e,t){return new Uint8Array(Array.prototype.slice.call(this,e,t))}),Uint8Array.prototype.forEach||(Uint8Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),n=0;n<i;){var o;n in r&&(o=r[n],e.call(t,o,n,r)),n++}})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2);n(8),n(3);var i,o=function(e,t){this.action=e,this.data=void 0!==t?t:null};!function(e){e[e.Initialized=0]="Initialized",e[e.Queued=1]="Queued",e[e.Running=2]="Running",e[e.Completed=3]="Completed"}(i||(i={}));var s=function(){function e(e,t,n){var r=this;this.id=e,this.requestMessage=t,this.parser=n,this.requestMessage.taskId=e,this.state=i.Initialized,this.onProgress=null,this.startTime=0,this.promise=new Promise(function(e,t){r.resolve=e,r.reject=t})}return e.prototype.dispose=function(){this.resolve=null,this.reject=null,this.promise=null},e.prototype.run=function(){this.state=i.Running,this.startTime=(new Date).getTime()},e.prototype.complete=function(e){this.state=i.Completed;var t=(new Date).getTime()-this.startTime;if(e.success){var n={timeTaken:t,message:e.message,result:e.result};this.resolve(n)}else this.reject(e.message);this.dispose()},e.prototype.updateProgress=function(e){null!==this.onProgress&&this.onProgress.call(this.parser,e)},e.prototype.then=function(e){var t=this;return this.promise&&this.promise.then(function(n){e.call(t.parser,n)}).catch(function(e){}),this},e.prototype.catch=function(e){var t=this;return this.promise&&this.promise.catch(function(n){e.call(t.parser,n)}),this},e.prototype.progress=function(e){return this.onProgress=e,this},e}(),u=function(){function e(){var e=this;this.taskList=[],this.runningTask=null,this.queuedTaskList=[],this.verboseLogging=!1,this.utf8decoder=new r.TextDecoder("utf-8"),this.lineCount=0,Object.defineProperty(this,"lineCount",{value:0,writable:!1}),this.file=null,this.worker=new Worker(window.URL.createObjectURL(new Blob(["!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=6)}([function(e,t){var r;r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(r=window)}e.exports=r},,function(e,t,r){(function(r){var n,i,s;i=[],void 0===(s=\"function\"==typeof(n=function(){\"use strict\";var e=void 0!==r?r:self;if(void 0!==e.TextEncoder&&void 0!==e.TextDecoder)return{TextEncoder:e.TextEncoder,TextDecoder:e.TextDecoder};var t=[\"utf8\",\"utf-8\",\"unicode-1-1-utf-8\"];return{TextEncoder:function(e){if(t.indexOf(e)<0&&null!=e)throw new RangeError(\"Invalid encoding type. Only utf-8 is supported\");this.encoding=\"utf-8\",this.encode=function(e){if(\"string\"!=typeof e)throw new TypeError(\"passed argument must be of type string\");var t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);return t.split(\"\").forEach(function(e,t){r[t]=e.charCodeAt(0)}),r}},TextDecoder:function(e,r){if(t.indexOf(e)<0&&null!=e)throw new RangeError(\"Invalid encoding type. Only utf-8 is supported\");if(this.encoding=\"utf-8\",this.ignoreBOM=!1,this.fatal=void 0!==r&&fatal in r&&r.fatal,\"boolean\"!=typeof this.fatal)throw new TypeError(\"fatal flag must be boolean\");this.decode=function(e,t){if(void 0===e)return\"\";var r=void 0!==t&&r in t&&t.stream;if(\"boolean\"!=typeof r)throw new TypeError(\"stream option must be boolean\");if(ArrayBuffer.isView(e)){var n=new Uint8Array(e.buffer),i=new Array(n.length);return n.forEach(function(e,t){i[t]=String.fromCharCode(e)}),decodeURIComponent(escape(i.join(\"\")))}throw new TypeError(\"passed argument must be an array buffer view\")}}}})?n.apply(t,i):n)||(e.exports=s)}).call(this,r(0))},function(e,t,r){\"use strict\";void 0===Uint8Array.prototype.indexOf&&(Uint8Array.prototype.indexOf=function(e){return Array.prototype.indexOf.call(this,e)}),void 0===Uint8Array.prototype.slice&&(Uint8Array.prototype.slice=function(e,t){return new Uint8Array(Array.prototype.slice.call(this,e,t))}),Uint8Array.prototype.forEach||(Uint8Array.prototype.forEach=function(e){var t,r;if(null==this)throw new TypeError(\"this is null or not defined\");var n=Object(this),i=n.length>>>0;if(\"function\"!=typeof e)throw new TypeError(e+\" is not a function\");for(arguments.length>1&&(t=arguments[1]),r=0;r<i;){var s;r in n&&(s=n[r],e.call(t,s,r,n)),r++}})},,,function(module,exports,__webpack_require__){\"use strict\";exports.__esModule=!0;var text_encoding_shim_1=__webpack_require__(2);__webpack_require__(3);var utf8decoder=new text_encoding_shim_1.TextDecoder(\"utf-8\"),DEFAULT_CHUNK_SIZE=52428800,currentTaskId=null,txtReaderWorker=null,sniffWorker=null,verboseLogging=!1,useTransferrable=navigator.userAgent.indexOf(\"Firefox\")>-1,respondMessage=function(e){e.done&&(currentTaskId=null),postMessage.apply(null,[e])},respondTransferrableMessage=function(e,t){e.done&&(currentTaskId=null),postMessage(e,t)},createProgressResponseMessage=function(e){var t=new ResponseMessage(e);return t.done=!1,t},validateWorker=function(){return null!==txtReaderWorker||(respondMessage(new ResponseMessage(!1,\"File has not been loaded into the worker, need to loadFile first.\")),!1)},mergeUint8Array=function(e,t){if(0===e.byteLength)return t;if(0===t.byteLength)return e;var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r},isLineWithinLinesRange=function(e,t){var r=getLinesRangeEnd(t);return e>=t.start&&e<=r},getLinesRangeEnd=function(e){return void 0!==e.count?e.start+e.count-1:e.end},getLinesRangeCount=function(e){return void 0!==e.count?e.count:e.end-e.start+1},getStartCountForSporadicLineItem=function(e){return\"number\"==typeof e?{start:e,count:1}:void 0!==e.end?{start:e.start,count:e.end-e.start+1}:e};self.addEventListener(\"message\",function(e){var t=e.data;if(verboseLogging&&console.log(\"Worker thread received a message from main thread: \\r\\n\",e.data),null!==currentTaskId)throw\"The worker thread is busy.\";switch(currentTaskId=t.taskId,t.action){case\"loadFile\":txtReaderWorker=new TxtReaderWorker(t.data.file,t.data.config);break;case\"enableVerbose\":verboseLogging=!0,respondMessage(new ResponseMessage(!0));break;case\"setChunkSize\":if(\"number\"!=typeof t.data||t.data<1)return void respondMessage(new ResponseMessage(!1,\"Invalid CHUNK_SIZE, must be greater than 1.\"));txtReaderWorker&&(txtReaderWorker.CHUNK_SIZE=t.data),DEFAULT_CHUNK_SIZE=t.data,respondMessage(new ResponseMessage(DEFAULT_CHUNK_SIZE));break;case\"getLines\":validateWorker()&&txtReaderWorker.getLines(t.data.start,t.data.count);break;case\"getSporadicLines\":validateWorker()&&txtReaderWorker.getSporadicLines(t.data);break;case\"iterateLines\":validateWorker()&&txtReaderWorker.iterateLines(t.data);break;case\"iterateSporadicLines\":validateWorker()&&txtReaderWorker.iterateSporadicLines(t.data.config,t.data.lines);break;case\"sniffLines\":sniffWorker=new TxtReaderWorker(t.data.file,void 0,{lineNumber:t.data.lineNumber})}});var ResponseMessage=function(e,t,r){if(this.taskId=currentTaskId,1===arguments.length)this.success=!0,this.message=\"\",this.result=e;else if(2===arguments.length)switch(typeof e){case\"boolean\":this.success=e,this.message=t,this.result=null;break;default:this.success=!0,this.message=e,this.result=t}else this.success=e,this.message=t,this.result=r;this.done=!0},Iterator=function(){function e(){this.lineView=new Uint8Array(0),this.lastViewEndsWithCR=!1,this.onEachLineInternal=null,this.onEachLine=null,this.eachLineScope=null,this.onSeekComplete=null,this.offset=0,this.createMap=!1,this.endOffset=0,this.linesToIterate=0,this.linesProcessed=0,this.currentLineNumber=1,this.startLineNumber=0,this.lastProgress=null,this.processedViewLength=0,this.lineBreakLength=0,this.map=[],this.lastMappedProgress=null,this.sporadicProcessed=0,this.sporadicTotal=0}return e.prototype.shouldBreak=function(){return!(!this.isPartialIterate()||this.linesProcessed!==this.linesToIterate)},e.prototype.isPartialIterate=function(){return this.linesToIterate>0},e.prototype.hitLine=function(e){var t=this.isPartialIterate(),r=0;if(!t||t&&this.currentLineNumber>=this.startLineNumber){if(this.linesProcessed++,r=t?0===this.sporadicTotal?Math.round(this.linesProcessed/this.linesToIterate*1e4)/100:Math.round((this.sporadicProcessed+this.linesProcessed)/this.sporadicTotal*1e4)/100:Math.round(this.processedViewLength/this.endOffset*1e4)/100,this.createMap){var n=Math.round(r);(null===this.lastMappedProgress||this.lastMappedProgress<n)&&(this.lastMappedProgress=n,this.map.push({line:this.currentLineNumber,offset:this.processedViewLength}))}null!==this.onEachLineInternal&&(e.buffer.byteLength!=e.byteLength&&(e=new Uint8Array(e)),this.onEachLineInternal.call(self,e,r)),null!==this.onEachLine&&(e.buffer.byteLength!=e.byteLength&&(e=new Uint8Array(e)),this.onEachLine.call(this.eachLineScope,e,r,this.currentLineNumber))}t&&this.shouldReportProgress(r)&&(this.lastProgress=r,respondMessage(createProgressResponseMessage(r<100?r:100))),this.processedViewLength+=e.length+this.lineBreakLength,this.currentLineNumber++},e.prototype.shouldReportProgress=function(e){return null===this.lastProgress||e-this.lastProgress>5},e.prototype.bindEachLineFromConfig=function(e){this.onEachLine=new Function(\"return \"+e.eachLine)(),null===this.eachLineScope&&(this.eachLineScope=e.scope),this.eachLineScope.decode=function(e){return utf8decoder.decode(e)}},e}(),TxtReaderWorker=function(){function TxtReaderWorker(e,t,r){var n=this;\"[object file]\"===Object.prototype.toString.call(e).toLowerCase()?(this.CHUNK_SIZE=DEFAULT_CHUNK_SIZE,this.file=e,this.lineCount=0,this.quickSearchMap=[],this.fr=new FileReader,this.fr.onload=function(){for(var e=new Uint8Array(n.fr.result),t=n.iterator;e.length>0;){var r=e.indexOf(13),i=e.indexOf(10),s=void 0,o=!1,a=!1;if(r>0&&(-1===i||r<i))r<e.length-1?10===e[r+1]?(s=r,t.lineBreakLength=2):(s=r,t.lineBreakLength=1):(a=!0,o=!0);else if(0===r)e.length>1?10===e[1]?(s=r,t.lineBreakLength=2):(s=r,t.lineBreakLength=1):(a=!0,o=!0);else if(i>0)s=i,t.lineBreakLength=1;else{if(0===i){if(t.lineBreakLength=t.lastViewEndsWithCR?2:1,t.hitLine(t.lastViewEndsWithCR?t.lineView.slice(0,t.lineView.length-1):t.lineView),t.shouldBreak())break;t.lineView=new Uint8Array(0),e=new Uint8Array(n.fr.result,1+e.byteOffset),t.lastViewEndsWithCR=!1;continue}o=!0}if(o){if(t.lastViewEndsWithCR){if(t.lineBreakLength=1,t.hitLine(t.lineView.slice(0,t.lineView.length-1)),t.shouldBreak())break;t.lineView=new Uint8Array(0)}t.lineView=mergeUint8Array(t.lineView,e),t.lastViewEndsWithCR=a;break}if(t.lastViewEndsWithCR){if(t.hitLine(t.lineView.slice(0,t.lineView.length-1)),t.shouldBreak())break;if(t.hitLine(e.slice(0,s)),t.shouldBreak())break;t.lastViewEndsWithCR=!1}else if(t.lineView=mergeUint8Array(t.lineView,e.slice(0,s)),t.hitLine(t.lineView),t.shouldBreak())break;t.lineView=new Uint8Array(0),e=new Uint8Array(n.fr.result,e.byteOffset+s+t.lineBreakLength)}if(!t.isPartialIterate()){var c=Math.round(t.offset/n.file.size*1e4)/100;respondMessage(createProgressResponseMessage(c<100?c:100))}t.offset+=n.CHUNK_SIZE,t.lineBreakLength=0,n.seek()},this.iterator=new Iterator,this.iterator.createMap=!0,r&&(this.sniffLines=[],this.iterator.linesToIterate=r.lineNumber,this.iterator.createMap=!1),this.iterator.endOffset=this.file.size,t&&this.iterator.bindEachLineFromConfig(this.stringToFunction(t)),this.iterateLinesInternal(function(e,t){r?n.sniffLines.push(utf8decoder.decode(e)):n.lineCount++},function(){if(r)respondMessage(new ResponseMessage(n.sniffLines)),n.sniffLines=[],delete n.sniffLines,sniffWorker=null;else{n.quickSearchMap=n.iterator.map;var e={lineCount:n.lineCount};t&&(e.scope=n.removeFunctionsFromObject(n.iterator.eachLineScope)),respondMessage(new ResponseMessage(e))}})):respondMessage(new ResponseMessage(!1,\"Invalid file object\"))}return TxtReaderWorker.prototype.setPartialIterator=function(e,t){if(e<1||e>this.lineCount)return respondMessage(new ResponseMessage(!1,\"Start line number is invalid\")),!1;var r=e+t-1;r=r>this.lineCount?this.lineCount:r;for(var n=0;n<this.quickSearchMap.length;n++)e>=this.quickSearchMap[n].line&&(n===this.quickSearchMap.length-1||e<this.quickSearchMap[n+1].line)&&(this.iterator.offset=this.quickSearchMap[n].offset,this.iterator.currentLineNumber=this.quickSearchMap[n].line),r<this.quickSearchMap[n].line&&(0===n||r>=this.quickSearchMap[n-1].line)?this.iterator.endOffset=this.quickSearchMap[n].offset:this.iterator.endOffset=this.file.size;return this.iterator.linesToIterate=t,this.iterator.startLineNumber=e,!0},TxtReaderWorker.prototype.iterateLinesInternal=function(e,t){this.iterator.onEachLineInternal=e,this.iterator.onSeekComplete=t||null,this.seek()},TxtReaderWorker.prototype._iterateLines=function(e,t,r,n){var i=this;if(this.iterator.offset=0,this.iterator.endOffset=this.file.size,this.iterator.bindEachLineFromConfig(e),this.iterator.onSeekComplete=function(){i.iterator.sporadicTotal||(i.iterator.eachLineScope=i.removeFunctionsFromObject(i.iterator.eachLineScope)),n()},null!==t&&null!==r){if(!this.setPartialIterator(t,r))return;this.seek()}else this.seek()},TxtReaderWorker.prototype.removeFunctionsFromObject=function(e){if(\"object\"==typeof e)for(var t in e)\"function\"==typeof e[t]?delete e[t]:\"object\"==typeof e[t]&&this.removeFunctionsFromObject(e[t]);return e},TxtReaderWorker.prototype.stringToFunction=function(config){var functionMap=config.functionMap;if(functionMap.length)for(var i=0;i<functionMap.length;i++){var functionString=eval(\"config.scope\"+functionMap[i]+\".toString()\");eval(\"config.scope\"+functionMap[i]+\"=\"+functionString)}return config},TxtReaderWorker.prototype.iterateLines=function(e){var t=this,r=this.stringToFunction(e.config);this._iterateLines(r,e.start,e.count,function(){respondMessage(new ResponseMessage(t.iterator.eachLineScope))})},TxtReaderWorker.prototype.iterateSporadicLines=function(e,t){var r=this,n=null;e=this.stringToFunction(e),t=this.sortAndMergeLineMap(t);for(var i=0,s=0,o=0;o<t.length;o++)\"number\"==typeof t[o]?i++:i+=getLinesRangeCount(t[o]);var a=function(o){var c=getStartCountForSporadicLineItem(t[o]);r.iterator.sporadicTotal=i,r.iterator.sporadicProcessed=s,r.iterator.lastProgress=Math.round(s/i*1e4)/100,r.iterator.eachLineScope=n,r._iterateLines(e,c.start,c.count,function(){s+=c.count,n=r.iterator.eachLineScope,o<t.length-1?setTimeout(function(){a(o+1)},0):respondMessage(new ResponseMessage(r.removeFunctionsFromObject(n)))})};a(0)},TxtReaderWorker.prototype.seek=function(){var e=this.iterator.linesToIterate>0&&this.iterator.linesProcessed===this.iterator.linesToIterate;if(this.iterator.offset>=this.iterator.endOffset||e)0!==this.iterator.sporadicTotal&&this.iterator.sporadicProcessed+this.iterator.linesProcessed!==this.iterator.sporadicTotal||respondMessage(createProgressResponseMessage(100)),this.iterator.lineView.byteLength&&!e&&(this.iterator.hitLine(this.iterator.lineView),this.iterator.lineView=new Uint8Array(0)),null!==this.iterator.onSeekComplete&&this.iterator.onSeekComplete.call(self),this.iterator=new Iterator;else{var t=this.file.slice(this.iterator.offset,this.iterator.offset+this.CHUNK_SIZE);this.fr.readAsArrayBuffer(t)}},TxtReaderWorker.prototype._getLines=function(e,t,r){if(this.setPartialIterator(e,t)){var n=[],i=[];this.iterateLinesInternal(function(e){n.push(e),useTransferrable&&i.push(e.buffer)},function(){setTimeout(function(){r(n,i)},0)})}},TxtReaderWorker.prototype.getLines=function(e,t){this._getLines(e,t,function(e,t){useTransferrable?respondTransferrableMessage(new ResponseMessage(e),t):respondMessage(new ResponseMessage(e))})},TxtReaderWorker.prototype.getSporadicLines=function(e){var t=this;e=this.sortAndMergeLineMap(e);for(var r=0,n=0;n<e.length;n++)\"number\"==typeof e[n]?r++:r+=getLinesRangeCount(e[n]);var i=[],s=function(n){var o=getStartCountForSporadicLineItem(e[n]);t.iterator.sporadicTotal=r,t.iterator.sporadicProcessed=i.length,t.iterator.lastProgress=Math.round(i.length/r*1e4)/100,t._getLines(o.start,o.count,function(t){for(var r=0;r<t.length;r++)i.push({lineNumber:o.start+r,value:utf8decoder.decode(t[r])});n<e.length-1?s(n+1):respondMessage(new ResponseMessage(i))})};s(0)},TxtReaderWorker.prototype.sortAndMergeLineMap=function(e){e.sort(function(e,t){return\"number\"==typeof e&&\"number\"==typeof t?e>t?1:-1:\"number\"==typeof e&&\"object\"==typeof t?e>t.start?1:-1:\"object\"==typeof e&&\"number\"==typeof t?e.start>t?1:-1:\"object\"==typeof e&&\"object\"==typeof t?e.start>t.start?1:-1:0});for(var t=1;t<e.length;t++){var r=e[t-1],n=e[t];if(\"number\"==typeof n&&\"number\"==typeof r)n===r?(e.splice(t,1),t--):n===r+1&&(e[t-1]={start:r,end:n},e.splice(t,1),t--);else if(\"number\"==typeof n&&\"object\"==typeof r){var i=getLinesRangeEnd(r);isLineWithinLinesRange(n,r)?(e.splice(t,1),t--):n===i+1&&(void 0!==r.count?r.count++:r.end=n,e.splice(t,1),t--)}else if(\"object\"==typeof n&&\"number\"==typeof r)isLineWithinLinesRange(r,n)&&(e.splice(t-1,1),t--);else if(\"object\"==typeof n&&\"object\"==typeof r){var s=getLinesRangeEnd(n);(i=getLinesRangeEnd(r))>=n.start&&i<=s?(n.start=r.start,void 0!==n.count&&(n.count=s-n.start+1),e.splice(t-1,1),t--):n.start>=r.start&&s<=i?(e.splice(t,1),t--):n.start===i+1&&(void 0!==r.count?r.count+=s-n.start+1:r.end=s,e.splice(t,1),t--)}}return e},TxtReaderWorker}()}]);"]))),this.worker.addEventListener("message",function(t){if(e.verboseLogging&&console.log("Main thread received a message from worker thread: \r\n",t.data),null!==e.runningTask){var n=t.data;if(n.taskId!==e.runningTask.id)throw"Received task ID ("+n.taskId+") does not match the running task ID ("+e.runningTask.id+").";if(n.done)e.completeTask(n);else{if(!("[object number]"===Object.prototype.toString.call(n.result).toLowerCase()&&n.result>=0&&n.result<=100))throw"Unkown message type";e.runningTask.updateProgress(n.result)}}},!1)}return e.prototype.sniffLines=function(e,t){return this.newTask("sniffLines",{file:e,lineNumber:t})},e.prototype.loadFile=function(e,t){var n=this;this.file=e,Object.defineProperty(this,"lineCount",{value:0,writable:!1});var r={file:e};return t&&(r.config=this.getItertorConfigMessage(t)),this.newTask("loadFile",r).then(function(e){Object.defineProperty(n,"lineCount",{value:e.result.lineCount,writable:!1})})},e.prototype.setChunkSize=function(e){return this.newTask("setChunkSize",e)},e.prototype.enableVerbose=function(){return this.verboseLogging=!0,this.newTask("enableVerbose")},e.prototype.getLines=function(e,t){var n=this;return this.newTask("getLines",{start:e,count:t}).then(function(e){for(var t=0;t<e.result.length;t++)e.result[t]=n.utf8decoder.decode(e.result[t])})},e.prototype.getSporadicLines=function(e){return this.newTask("getSporadicLines",e)},e.prototype.iterateLines=function(e,t,n){return this.newTask("iterateLines",{config:this.getItertorConfigMessage(e),start:t||null,count:n||null})},e.prototype.iterateSporadicLines=function(e,t){return this.newTask("iterateSporadicLines",{config:this.getItertorConfigMessage(e),lines:t})},e.prototype.getItertorConfigMessage=function(e){var t=[];return{eachLine:e.eachLine.toString(),scope:function e(n,r){var i=r;if("object"==typeof n)for(var o in n){var s=i+'["'+o+'"]';"function"==typeof n[o]?(n[o]=n[o].toString(),t.push(s)):"object"==typeof n[o]&&(n[o]=e(n[o],s))}return n}(e.scope,"")||{},functionMap:t}},e.prototype.newTask=function(e,t){var n=new o(e,t),r=new s(this.newTaskId(),n,this);return this.taskList.push(r),this.runningTask?(this.queuedTaskList.push(r),r.state=i.Queued):this.runTask(r),r},e.prototype.completeTask=function(e){this.runningTask&&(this.runningTask.complete(e),this.runningTask=null,this.runNextTask())},e.prototype.runNextTask=function(){this.queuedTaskList.length&&this.runTask(this.queuedTaskList.shift())},e.prototype.runTask=function(e){this.runningTask=e,this.worker.postMessage(e.requestMessage),e.run()},e.prototype.newTaskId=function(){var e=this.taskList.length;return 0===e?1:this.taskList[e-1].id+1},e}();t.TxtReader=u},function(e,t,n){"use strict";(function(e){var r=n(1),i=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function s(){}function u(e){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,u._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void f(t.promise,e)}c(t.promise,r)}else(1===e._state?c:f)(t.promise,e._value)})):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof u)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void p((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){f(e,t)}var r,i}function f(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&u._immediateFn(function(){e._handled||u._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,f(t,e))})}catch(e){if(n)return;n=!0,f(t,e)}}u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){var n=new this.constructor(s);return a(this,new d(e,t,n)),n},u.prototype.finally=r.a,u.all=function(e){return new u(function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function s(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var u=o.then;if("function"==typeof u)return void u.call(o,function(t){s(e,t)},n)}r[e]=o,0==--i&&t(r)}catch(e){n(e)}}for(var u=0;u<r.length;u++)s(u,r[u])})},u.resolve=function(e){return e&&"object"==typeof e&&e.constructor===u?e:new u(function(t){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.race=function(e){return new u(function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)u.resolve(e[r]).then(t,n)})},u._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},u._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=u}).call(this,n(9).setImmediate)},,function(e,t,n){"use strict";n.r(t);var r=n(4);void 0===window.TxtReader&&(window.TxtReader=r.TxtReader)},function(e,t,n){"use strict";n.r(t),function(e){var t=n(5),r=n(1),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in i?i.Promise.prototype.finally||(i.Promise.prototype.finally=r.a):i.Promise=t.a}.call(this,n(0))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(10),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,s,u,a=1,c={},f=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(s="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&h(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(s+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[a]=i,r(a),a++},d.clearImmediate=p}function p(e){delete c[e]}function h(e){if(f)setTimeout(h,0,e);else{var t=c[e];if(t){f=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),f=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(11))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],f=!1,l=-1;function d(){f&&a&&(f=!1,a.length?c=a.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]);